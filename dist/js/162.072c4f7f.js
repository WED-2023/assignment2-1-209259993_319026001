(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[162],{9162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});r(9753),r(2222),r(7042),r(8309);var n=function(){var e=this,t=e._self._c;return e.instructions&&e.recipe?t("div",{staticClass:"container"},[t("h1",[e._v(e._s(e.recipe.title))]),t("h4",[e._v("Servings: "+e._s(e.servings))]),t("button",{on:{click:e.doubleServings}},[e._v("Double the Servings")]),e._l(e.instructions.steps,(function(r,n){return t("div",{key:n,staticClass:"step"},[t("div",{staticClass:"step-header"},[t("h2",[e._v("Step "+e._s(r.number))]),t("input",{directives:[{name:"model",rawName:"v-model",value:r.completed,expression:"step.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(r.completed)?e._i(r.completed,null)>-1:r.completed},on:{change:[function(t){var n=r.completed,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);i.checked?o<0&&e.$set(r,"completed",n.concat([a])):o>-1&&e.$set(r,"completed",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(r,"completed",s)},function(t){return e.updateCompletionStatus(r)}]}})]),t("p",[e._v(e._s(r.step))]),r.ingredients.length>0?t("div",[t("h3",[e._v("Ingredients:")]),t("ul",e._l(r.ingredients,(function(r,n){return t("li",{key:n},[t("img",{staticClass:"ingredient-image",attrs:{src:r.image,alt:r.name}}),e._v(" "+e._s(r.name)+": "),r.id&&e.extendedIngredients[r.id]?t("span",[e._v(" "+e._s(e.extendedIngredients[r.id].amount)+" "+e._s(e.extendedIngredients[r.id].unit)+" ")]):e._e()])})),0)]):e._e(),r.equipment.length>0?t("div",[t("h3",[e._v("Equipment:")]),t("ul",e._l(r.equipment,(function(r,n){return t("li",{key:n},[t("img",{staticClass:"equipment-image",attrs:{src:r.image,alt:r.name}}),e._v(" "+e._s(r.name)+" "),r.temperature?t("span",[e._v("- "+e._s(r.temperature.number)+" "+e._s(r.temperature.unit))]):e._e()])})),0)]):e._e(),r.length?t("div",[t("p",[e._v("Duration: "+e._s(r.length.number)+" "+e._s(r.length.unit))])]):e._e()])}))],2):e._e()},i=[],s=r(124);r(1703),r(6647);function a(e){throw new TypeError('"'+e+'" is read-only')}var o=r(8534);r(4916),r(5306),r(9554),r(1539),r(4747),r(7941),r(8862),r(7327);const c={data:function(){return{instructions:null,recipe:null,extendedIngredients:{},servings:0}},created:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,e.axios.defaults.withCredentials=!0,t.next=5,e.axios.get(e.$root.store.server_domain+"/recipes/instructions/"+e.$route.params.recipeId);case 5:if(r=t.sent,!r.status||200===r.status){t.next=9;break}return e.$router.replace("/NotFound"),t.abrupt("return");case 9:return e.instructions=r.data,t.next=12,e.axios.get(e.$root.store.server_domain+"/recipes/get/"+e.$route.params.recipeId);case 12:if(a("response"),!r.status||200===r.status){t.next=16;break}return e.$router.replace("/NotFound"),t.abrupt("return");case 16:e.recipe=r.data.recipe,e.servings=e.recipe.servings,e.preprocessIngredients(),e.initializeStepCompletion(),e.initializeLocalStorage(),t.next=28;break;case 23:return t.prev=23,t.t0=t["catch"](1),console.log("error:",t.t0),e.$router.replace("/NotFound"),t.abrupt("return");case 28:t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](0),console.log(t.t1);case 33:case"end":return t.stop()}}),t,null,[[0,30],[1,23]])})))()},methods:{doubleServings:function(){var e=this;this.extendedIngredients&&(Object.keys(this.extendedIngredients).forEach((function(t){e.extendedIngredients[t].amount*=2})),this.servings*=2)},preprocessIngredients:function(){var e=this;this.instructions&&this.instructions.steps&&this.recipe&&this.recipe.extendedIngredients&&this.recipe.extendedIngredients.forEach((function(t){e.$set(e.extendedIngredients,t.id,{amount:t.amount,unit:t.unit})}))},initializeStepCompletion:function(){var e=this;this.instructions&&this.instructions.steps&&this.instructions.steps.forEach((function(t){var r=localStorage.getItem("step-".concat(t.number));e.$set(t,"completed","true"===r)}))},initializeLocalStorage:function(){localStorage.getItem("completedSteps")||localStorage.setItem("completedSteps",JSON.stringify({}))},updateCompletionStatus:function(e){localStorage.setItem("step-".concat(e.number),e.completed);var t=this.instructions.steps.filter((function(e){return e.completed})).length,r=JSON.parse(localStorage.getItem("completedSteps"));r[this.$route.params.recipeId]=t,localStorage.setItem("completedSteps",JSON.stringify(r))}}},u=c;var l=r(1001),d=(0,l.Z)(u,n,i,!1,null,"27ff9728",null);const p=d.exports},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1470),i=r(8052),s=r(2261),a=r(7293),o=r(5112),c=r(8880),u=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var p=o(e),v=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=v&&!a((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!v||!g||r){var f=n(/./[p]),x=t(p,""[e],(function(e,t,r,i,a){var o=n(e),c=t.exec;return c===s||c===l.exec?v&&!a?{done:!0,value:f(t,r,i)}:{done:!0,value:o(r,t,i)}:{done:!1}}));i(String.prototype,e,x[0]),i(l,p,x[1])}d&&c(l[p],"sham",!0)}},647:(e,t,r)=>{var n=r(1702),i=r(7908),s=Math.floor,a=n("".charAt),o=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var v=r+e.length,g=n.length,f=l;return void 0!==d&&(d=i(d),f=u),o(p,f,(function(i,o){var u;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,v);case"<":u=d[c(o,1,-1)];break;default:var l=+o;if(0===l)return i;if(l>g){var p=s(l/10);return 0===p?i:p<=g?void 0===n[p-1]?a(o,1):n[p-1]+a(o,1):i}u=n[l-1]}return void 0===u?"":u}))}},7651:(e,t,r)=>{var n=r(6916),i=r(9670),s=r(614),a=r(4326),o=r(2261),c=TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===a(e))return n(o,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:(e,t,r)=>{"use strict";var n=r(6916),i=r(1702),s=r(1340),a=r(7066),o=r(2999),c=r(2309),u=r(30),l=r(9909).get,d=r(9441),p=r(7168),v=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,f=g,x=i("".charAt),h=i("".indexOf),m=i("".replace),_=i("".slice),I=function(){var e=/a/,t=/b*/g;return n(g,e,"a"),n(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=o.BROKEN_CARET,S=void 0!==/()??/.exec("")[1],y=I||S||b||d||p;y&&(f=function(e){var t,r,i,o,c,d,p,y=this,$=l(y),k=s(e),E=$.raw;if(E)return E.lastIndex=y.lastIndex,t=n(f,E,k),y.lastIndex=E.lastIndex,t;var C=$.groups,w=b&&y.sticky,R=n(a,y),A=y.source,N=0,O=k;if(w&&(R=m(R,"y",""),-1===h(R,"g")&&(R+="g"),O=_(k,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==x(k,y.lastIndex-1))&&(A="(?: "+A+")",O=" "+O,N++),r=new RegExp("^(?:"+A+")",R)),S&&(r=new RegExp("^"+A+"$(?!\\s)",R)),I&&(i=y.lastIndex),o=n(g,w?r:y,O),w?o?(o.input=_(o.input,N),o[0]=_(o[0],N),o.index=y.lastIndex,y.lastIndex+=o[0].length):y.lastIndex=0:I&&o&&(y.lastIndex=y.global?o.index+o[0].length:i),S&&o&&o.length>1&&n(v,o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&C)for(o.groups=d=u(null),c=0;c<C.length;c++)p=C[c],d[p[0]]=o[p[1]];return o}),e.exports=f},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{var n=r(7293),i=r(7854),s=i.RegExp,a=n((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!s("a","y").sticky})),c=a||n((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:(e,t,r)=>{var n=r(7293),i=r(7854),s=i.RegExp;e.exports=n((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,r)=>{var n=r(7293),i=r(7854),s=i.RegExp;e.exports=n((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7941:(e,t,r)=>{var n=r(2109),i=r(7908),s=r(1956),a=r(7293),o=a((function(){s(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(e){return s(i(e))}})},4916:(e,t,r)=>{"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},5306:(e,t,r)=>{"use strict";var n=r(2104),i=r(6916),s=r(1702),a=r(7007),o=r(7293),c=r(9670),u=r(614),l=r(8554),d=r(9303),p=r(7466),v=r(1340),g=r(4488),f=r(1530),x=r(8173),h=r(647),m=r(7651),_=r(5112),I=_("replace"),b=Math.max,S=Math.min,y=s([].concat),$=s([].push),k=s("".indexOf),E=s("".slice),C=function(e){return void 0===e?e:String(e)},w=function(){return"$0"==="a".replace(/./,"$0")}(),R=function(){return!!/./[I]&&""===/./[I]("a","$0")}(),A=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,r){var s=R?"$":"$0";return[function(e,r){var n=g(this),s=l(e)?void 0:x(e,I);return s?i(s,e,n,r):i(t,v(n),e,r)},function(e,i){var a=c(this),o=v(e);if("string"==typeof i&&-1===k(i,s)&&-1===k(i,"$<")){var l=r(t,a,o,i);if(l.done)return l.value}var g=u(i);g||(i=v(i));var x=a.global;if(x){var _=a.unicode;a.lastIndex=0}var I=[];while(1){var w=m(a,o);if(null===w)break;if($(I,w),!x)break;var R=v(w[0]);""===R&&(a.lastIndex=f(o,p(a.lastIndex),_))}for(var A="",N=0,O=0;O<I.length;O++){w=I[O];for(var T=v(w[0]),q=b(S(d(w.index),o.length),0),z=[],D=1;D<w.length;D++)$(z,C(w[D]));var M=w.groups;if(g){var Z=y([T],z,q,o);void 0!==M&&$(Z,M);var F=v(n(i,void 0,Z))}else F=h(T,o,q,z,M,i);q>=N&&(A+=E(o,N,q)+F,N=q+T.length)}return A+E(o,N)}]}),!A||!w||R)}}]);
//# sourceMappingURL=162.072c4f7f.js.map